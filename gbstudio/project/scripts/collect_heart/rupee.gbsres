{
  "_resourceType": "script",
  "id": "a14c7438-4f4d-461b-b4cf-1149bf3146ac",
  "name": "Collect Heart/Rupee",
  "description": "Allow Zelda to collect a heart or (10) rupees",
  "variables": {
    "V0": {
      "id": "V0",
      "name": "Scene Flags",
      "passByReference": true
    },
    "V1": {
      "id": "V1",
      "name": "Health",
      "passByReference": true
    },
    "V2": {
      "id": "V2",
      "name": "Max Hearts",
      "passByReference": true
    },
    "V3": {
      "id": "V3",
      "name": "Full Health",
      "passByReference": true
    },
    "V4": {
      "id": "V4",
      "name": "Rupees",
      "passByReference": true
    }
  },
  "actors": {
    "0": {
      "id": "0",
      "name": "Collectable"
    }
  },
  "symbol": "script_24",
  "script": [
    {
      "command": "EVENT_IF_FLAGS_COMPARE",
      "args": {
        "variable": "V0",
        "flag": 0,
        "__collapseElse": true,
        "__disableElse": true,
        "__label": "If Heart",
        "__collapse": true
      },
      "children": {
        "true": [
          {
            "command": "EVENT_GROUP",
            "args": {
              "__label": "Add 2 half hearts",
              "__collapse": true
            },
            "children": {
              "true": [
                {
                  "command": "EVENT_INC_VALUE",
                  "args": {
                    "variable": "V1"
                  },
                  "id": "806ca25a-fd06-4b10-97b4-ed7ef9fb40e8"
                },
                {
                  "command": "EVENT_INC_VALUE",
                  "args": {
                    "variable": "V1"
                  },
                  "id": "1cd77fbc-2a3a-4dd1-a517-060957ad857d"
                }
              ]
            },
            "id": "b683e55a-19a6-412f-89db-ba674927d9f3"
          },
          {
            "command": "EVENT_GROUP",
            "args": {
              "__label": "Prevent Health exceeding max health",
              "__collapse": true
            },
            "children": {
              "true": [
                {
                  "command": "EVENT_VARIABLE_MATH",
                  "args": {
                    "vectorX": "V3",
                    "operation": "set",
                    "other": "var",
                    "vectorY": "V2",
                    "value": "0",
                    "minValue": "0",
                    "maxValue": "32767",
                    "clamp": false
                  },
                  "id": "6dc792ec-b69f-48b5-aee4-03f15c10e044"
                },
                {
                  "command": "EVENT_VARIABLE_MATH",
                  "args": {
                    "vectorX": "V3",
                    "operation": "mul",
                    "other": "val",
                    "vectorY": "0",
                    "value": 2,
                    "minValue": "0",
                    "maxValue": "32767",
                    "clamp": true
                  },
                  "id": "14161930-d993-475d-ba14-beadb7318ed6"
                },
                {
                  "command": "EVENT_IF_VALUE_COMPARE",
                  "args": {
                    "vectorX": "V1",
                    "operator": ">",
                    "vectorY": "V3",
                    "__collapseElse": true,
                    "__disableElse": true
                  },
                  "children": {
                    "true": [
                      {
                        "command": "EVENT_SET_VALUE",
                        "args": {
                          "variable": "V1",
                          "value": {
                            "type": "variable",
                            "value": "V3"
                          }
                        },
                        "id": "e3bf20f4-8c3b-4088-8669-6d6154cc6384"
                      }
                    ],
                    "false": []
                  },
                  "id": "52d21df4-102f-4455-8d56-0681c4bcd045"
                }
              ]
            },
            "id": "ba642019-96a2-40ec-a391-b24a7c75e561"
          }
        ],
        "false": []
      },
      "id": "f506c8c7-0b08-4378-a6e8-e7e0ddd78fb0"
    },
    {
      "command": "EVENT_IF_FLAGS_COMPARE",
      "args": {
        "variable": "V0",
        "flag": 1,
        "__collapseElse": true,
        "__disableElse": true,
        "__label": "If Rupee",
        "__collapse": true
      },
      "children": {
        "true": [
          {
            "command": "EVENT_GROUP",
            "args": {
              "__label": "Rupee + 5",
              "__collapse": true
            },
            "children": {
              "true": [
                {
                  "command": "EVENT_INC_VALUE",
                  "args": {
                    "variable": "V4",
                    "__collapse": true
                  },
                  "id": "d7f1e09c-ff6c-4dfb-ac5c-78db6e478395"
                },
                {
                  "command": "EVENT_INC_VALUE",
                  "args": {
                    "variable": "V4",
                    "__collapse": true
                  },
                  "id": "c51af5ee-3fb8-4a63-a95c-50de40d89484"
                },
                {
                  "command": "EVENT_INC_VALUE",
                  "args": {
                    "variable": "V4",
                    "__collapse": true
                  },
                  "id": "47633982-2ba7-41f0-beb8-41ba462c88ee"
                },
                {
                  "command": "EVENT_INC_VALUE",
                  "args": {
                    "variable": "V4",
                    "__collapse": true
                  },
                  "id": "7c6bc8ff-8637-4e1f-b57c-03337591193c"
                },
                {
                  "command": "EVENT_INC_VALUE",
                  "args": {
                    "variable": "V4",
                    "__collapse": true
                  },
                  "id": "26a93a7f-9599-4660-8400-3897546d9c39"
                }
              ]
            },
            "id": "e151845d-e201-425b-a4cc-a40671fcb887"
          },
          {
            "command": "EVENT_GROUP",
            "args": {
              "__label": "Rupee + 5",
              "__collapse": true
            },
            "children": {
              "true": [
                {
                  "command": "EVENT_INC_VALUE",
                  "args": {
                    "variable": "V4",
                    "__collapse": true
                  },
                  "id": "8a819a09-a2ea-46b9-b789-7da90dead185"
                },
                {
                  "command": "EVENT_INC_VALUE",
                  "args": {
                    "variable": "V4",
                    "__collapse": true
                  },
                  "id": "955c3483-a752-48d3-ad1f-2666559c2cc9"
                },
                {
                  "command": "EVENT_INC_VALUE",
                  "args": {
                    "variable": "V4",
                    "__collapse": true
                  },
                  "id": "62ec93f8-81c2-4d94-848a-f9b737e81a14"
                },
                {
                  "command": "EVENT_INC_VALUE",
                  "args": {
                    "variable": "V4",
                    "__collapse": true
                  },
                  "id": "0d25c049-1cdd-4f3e-a311-a794abed399f"
                },
                {
                  "command": "EVENT_INC_VALUE",
                  "args": {
                    "variable": "V4",
                    "__collapse": true
                  },
                  "id": "7af80aa6-c067-4daf-b6eb-88293079035a"
                }
              ]
            },
            "id": "e0943b4e-7048-45e0-85e6-04c240dd14a4"
          }
        ],
        "false": []
      },
      "id": "dde0d92e-5eed-4505-bf5e-a690042ee19b"
    },
    {
      "command": "EVENT_COMMENT",
      "args": {
        "text": "Prevent invisible collectable\nBUT only allows 1 pick up\nShow collectable in spawn collectable script only works once ",
        "__collapse": true
      },
      "id": "e99266af-1ddb-4d12-acf8-18a864b87c42"
    },
    {
      "command": "EVENT_ACTOR_HIDE",
      "args": {
        "actorId": "0",
        "__comment": false,
        "__collapse": true
      },
      "id": "02d37712-f1e6-40dc-9a3f-e441944bfab4"
    },
    {
      "command": "EVENT_ACTOR_COLLISIONS_DISABLE",
      "args": {
        "actorId": "0",
        "__collapse": true
      },
      "id": "c1c40ba1-394d-470d-827d-df0f2d0d647b"
    },
    {
      "command": "EVENT_CLEAR_FLAGS",
      "args": {
        "variable": "V0",
        "flag1": false,
        "flag2": false,
        "flag3": true,
        "flag4": false,
        "flag5": false,
        "flag6": false,
        "flag7": false,
        "flag8": false,
        "flag9": false,
        "flag10": false,
        "flag11": false,
        "flag12": false,
        "flag13": false,
        "flag14": false,
        "flag15": false,
        "flag16": false,
        "__collapse": true,
        "__comment": false
      },
      "id": "47a2ba50-49a6-4292-ab80-0b9ac439bbc1"
    },
    {
      "command": "EVENT_ACTOR_SET_POSITION",
      "args": {
        "actorId": "0",
        "x": {
          "type": "number",
          "value": 9
        },
        "y": {
          "type": "number",
          "value": 0
        },
        "__comment": false,
        "__collapse": true
      },
      "id": "ec7e7d09-aaa5-420a-a8ac-1f5eddf6dda3"
    }
  ]
}